%_N_C:/Lantek/Expert/CNC/758_MPF
;$PATH=/_N_WKS_DIR/_N_C:/Lantek/Expert/CNC/758_WPD
;Foglio di lamiera: 200x135x0.8
;Tipo di materiale: Al99
;Diametro foro ugello mm: 2
;Tipo di ugello: 1
;Focale lente: 7.5"
;Posizione Focale: -3.5 mm dalla superficie
;Gas di Assistenza: 
;Stand Off Taglio: 1
;Stand Off Marcatura: 1
N10 DEF REAL LAMIERE
N20 DEF REAL SPESSORE
N30 DEF REAL CORSA
N40 DEF STRING[120] CAMBIO
N50 SPESSORE=0.8
N60 CORSA=120
N70 CAMBIO=("Mancano n.    lamiere alla fine della lavorazione corrente")
N80;Prima inizializzazione R19
N90 R19=0
N100;Prima inizializzazione R18
N110 R18=0
N120 R12=1          ;Lente da 7,5 pollici
N130 R1=SPESSORE+20 R2=SPESSORE+60 R10=SPESSORE+20
N140 R3=SPESSORE+70 R11=SPESSORE+80
N150 R6=30000
N160 LAMIERE=1
N170 M73
N180 MSG("Premere START NC per proseguimento programma")
N190 M00
N200 MSG
N210 IF $P_SIM GOTOF SIM
N220 INIZIALIZZA(LAMIERE)
N230 IF $P_SEARCH
N240   LAMIERE=R20+1
N250 ELSE
N260   LAMIERE=R20
N270 ENDIF
N280 CLC_SEL(1)
N290 SIM:
N300 ;M60
N310 ACQUISISCI(0,100,100,200,135)
N320 G54
N330 R7=2
N340 M58 M91 M93
N350 F=R6
N360 G00X35.136Y37.997
N370 CTR1
N380 TESTA_SU(R2)
N390 F=R6
N400 G00X37.93Y99.354
N410 CTR2
N420 TESTA_SU(R2)
N430 F=R6
N440 G00X165.59Y71.212
N450 CTR3
N460 TESTA_SU(R2)
N470 F=R6
N480 G00X165.136Y97.003
N490 CTR4
N500 TESTA_SU(R2)
N510 F=R6
N520 G00X167.929Y35.647
N530 CTR5
N540 TESTA_SU(R2)
N550 F=R6
N560 G00X197.Y42.071
N570 CTR6
N580 TESTA_SU(CORSA)
N590 F=R6
N600 G00X0.Y0.
N610 CHIUSURA
N620 MSG("Fine Lavoro")
N630 M30
LOAD /WKS.DIR/C:/Lantek/Expert/CNC/758.WPD/C:/Lantek/Expert/CNC/758*.SPF
LOAD /WKS.DIR/C:/Lantek/Expert/CNC/758.WPD/PREFORO*.SPF
SELECT C:/Lantek/Expert/CNC/758.MPF CH=1
%_N_PREFORO_SPF
;$PATH=/_N_WKS_DIR/_N_C:/Lantek/Expert/CNC/758_WPD
N640 IF $P_SEARCH GOTOF SIM
N650 IF $P_SIM GOTOF SIM
N660 G91
N670 FORO_1
N680 LINEA_3
N690 F=100
N700 G01X1
N710 F=200
N720 G02X-2Y0I-1J0
N730 F=400
N740 G02X2Y0I1J0
N750 G01X-1
N760 SIM:
N770 RET
%_N_CTR1_SPF
;$PATH=/_N_WKS_DIR/_N_C:/Lantek/Expert/CNC/758_WPD
N30 PROC CTR1 SAVE
N40 IF $p_SEARCH==1 GOTOF FINE
N50 G91
N60 FORO
N70 LINEA_1
N80 G01X0.32 Y6.995
N90 G03X-0.91Y-19.98 I-0.455 J-9.99
N100 X0.91Y19.98 I0.455 J9.99
N110 POT_OFF
N120 TESTA_SU(R2)
N130 FINE:
N140 RET
%_N_CTR2_SPF
;$PATH=/_N_WKS_DIR/_N_C:/Lantek/Expert/CNC/758_WPD
N30 PROC CTR2 SAVE
N40 IF $p_SEARCH==1 GOTOF FINE
N50 G91
N60 FORO
N70 LINEA_1
N80 G01X6.835 Y-1.51
N90 G03X-19.53Y4.31 I-9.765 J2.155
N100 X19.53Y-4.31 I9.765 J-2.155
N110 POT_OFF
N120 TESTA_SU(R2)
N130 FINE:
N140 RET
%_N_CTR3_SPF
;$PATH=/_N_WKS_DIR/_N_C:/Lantek/Expert/CNC/758_WPD
N30 PROC CTR3 SAVE
N40 IF $p_SEARCH==1 GOTOF FINE
N50 G91
N60 FORO
N70 LINEA_1
N80 G01X0.7 Y6.965
N90 G03X-1Y0.05 I-1 J-9.95
N100 G01X-28.855 
N110 G03X-26.145Y26.145 I-36.145 J-10
N120 G01Y10
N130 X-20 
N140 Y-10
N150 G03X-26.14Y-26.145 I10 J-36.145
N160 G01X-28.86 
N170 G03Y-20 I0 J-10
N180 G01X28.86 
N190 G03X26.14Y-26.14 I36.14 J10
N200 G01Y-10
N210 X20 
N220 Y10
N230 G03X26.145Y26.14 I-10 J36.14
N240 G01X28.855 
N250 G03X1Y19.95 I0 J10
N260 POT_OFF
N270 TESTA_SU(R2)
N280 FINE:
N290 RET
%_N_CTR4_SPF
;$PATH=/_N_WKS_DIR/_N_C:/Lantek/Expert/CNC/758_WPD
N30 PROC CTR4 SAVE
N40 IF $p_SEARCH==1 GOTOF FINE
N50 G91
N60 FORO
N70 LINEA_1
N80 G01X0.32 Y-6.995
N90 G03X-0.91Y19.98 I-0.455 J9.99
N100 X0.91Y-19.98 I0.455 J-9.99
N110 POT_OFF
N120 TESTA_SU(R2)
N130 FINE:
N140 RET
%_N_CTR5_SPF
;$PATH=/_N_WKS_DIR/_N_C:/Lantek/Expert/CNC/758_WPD
N30 PROC CTR5 SAVE
N40 IF $p_SEARCH==1 GOTOF FINE
N50 G91
N60 FORO
N70 LINEA_1
N80 G01X6.835 Y1.515
N90 G03X-19.53Y-4.32 I-9.765 J-2.16
N100 X19.53Y4.32 I9.765 J2.16
N110 POT_OFF
N120 TESTA_SU(R2)
N130 FINE:
N140 RET
%_N_CTR6_SPF
;$PATH=/_N_WKS_DIR/_N_C:/Lantek/Expert/CNC/758_WPD
N30 PROC CTR6 SAVE
N40 IF $p_SEARCH==1 GOTOF FINE
N50 G91
N60 FORO
N70 LINEA_1
N80 G01X-7 
N90 Y-7.07
N100 G02X-25Y-25 I-25 J0
N110 G01X-130 
N120 G02X-25Y25 I0 J25
N130 G01Y65
N140 G02X25Y25 I25 J0
N150 G01X130 
N160 G02X25Y-25 I0 J-25
N170 G01Y-57.93
N180 POT_OFF
N190 TESTA_SU(R2)
N200 FINE:
N210 RET
