%_N_C:/Lantek/Expert/CNC/757_MPF
;$PATH=/_N_WKS_DIR/_N_C:/Lantek/Expert/CNC/757_WPD
;Foglio di lamiera: 120x120x0.8
;Tipo di materiale: Al99
;Diametro foro ugello mm: 2
;Tipo di ugello: 1
;Focale lente: 7.5"
;Posizione Focale: -3.5 mm dalla superficie
;Gas di Assistenza: 
;Stand Off Taglio: 1
;Stand Off Marcatura: 1
N10 DEF REAL LAMIERE
N20 DEF REAL SPESSORE
N30 DEF REAL CORSA
N40 DEF STRING[120] CAMBIO
N50 SPESSORE=0.8
N60 CORSA=120
N70 CAMBIO=("Mancano n.    lamiere alla fine della lavorazione corrente")
N80;Prima inizializzazione R19
N90 R19=0
N100;Prima inizializzazione R18
N110 R18=0
N120 R12=1          ;Lente da 7,5 pollici
N130 R1=SPESSORE+20 R2=SPESSORE+60 R10=SPESSORE+20
N140 R3=SPESSORE+70 R11=SPESSORE+80
N150 R6=30000
N160 LAMIERE=1
N170 M73
N180 MSG("Premere START NC per proseguimento programma")
N190 M00
N200 MSG
N210 IF $P_SIM GOTOF SIM
N220 INIZIALIZZA(LAMIERE)
N230 IF $P_SEARCH
N240   LAMIERE=R20+1
N250 ELSE
N260   LAMIERE=R20
N270 ENDIF
N280 CLC_SEL(1)
N290 SIM:
N300 ;M60
N310 ACQUISISCI(0,100,100,120,120)
N320 G54
N330 R7=2
N340 M58 M91 M93
N350 TESTA_SU(R2)
N360 F=R6
N370 G00X72.728Y72.728
N380 CTR1
N390 TESTA_SU(R2)
N400 F=R6
N410 G00X42.322Y77.678
N420 CTR2
N430 TESTA_SU(R2)
N440 F=R6
N450 G00X112.021Y112.021
N460 CTR3
N470 TESTA_SU(CORSA)
N480 F=R6
N490 G00X0.Y0.
N500 CHIUSURA
N510 MSG("Fine Lavoro")
N520 M30
LOAD /WKS.DIR/C:/Lantek/Expert/CNC/757.WPD/C:/Lantek/Expert/CNC/757*.SPF
LOAD /WKS.DIR/C:/Lantek/Expert/CNC/757.WPD/PREFORO*.SPF
SELECT C:/Lantek/Expert/CNC/757.MPF CH=1
%_N_PREFORO_SPF
;$PATH=/_N_WKS_DIR/_N_C:/Lantek/Expert/CNC/757_WPD
N530 IF $P_SEARCH GOTOF SIM
N540 IF $P_SIM GOTOF SIM
N550 G91
N560 FORO_1
N570 LINEA_3
N580 F=100
N590 G01X1
N600 F=200
N610 G02X-2Y0I-1J0
N620 F=400
N630 G02X2Y0I1J0
N640 G01X-1
N650 SIM:
N660 RET
%_N_CTR1_SPF
;$PATH=/_N_WKS_DIR/_N_C:/Lantek/Expert/CNC/757_WPD
N30 PROC CTR1 SAVE
N40 IF $p_SEARCH==1 GOTOF FINE
N50 G91
N60 FORO
N70 LINEA_1
N80 G01X4.95 Y4.95
N90 G03X-35.36Y-35.36 I-17.68 J-17.68
N100 X35.36Y35.36 I17.68 J17.68
N110 POT_OFF
N120 TESTA_SU(R2)
N130 FINE:
N140 RET
%_N_CTR2_SPF
;$PATH=/_N_WKS_DIR/_N_C:/Lantek/Expert/CNC/757_WPD
N30 PROC CTR2 SAVE
N40 IF $p_SEARCH==1 GOTOF FINE
N50 G91
N60 FORO
N70 LINEA_1
N80 G01X-32.32 Y32.32
N90 POT_OFF
N100 TESTA_SU(R2)
N110 FINE:
N120 RET
%_N_CTR3_SPF
;$PATH=/_N_WKS_DIR/_N_C:/Lantek/Expert/CNC/757_WPD
N30 PROC CTR3 SAVE
N40 IF $p_SEARCH==1 GOTOF FINE
N50 G91
N60 FORO
N70 LINEA_1
N80 G01X-4.95 Y-4.95
N90 G02X2.93Y-7.07 I-7.07 J-7.07
N100 G01Y-90
N110 X-90 
N120 G02X-10Y10 I0 J10
N130 G01Y90
N140 X90 
N150 G02X7.07Y-2.93 I0 J-10
N160 POT_OFF
N170 TESTA_SU(R2)
N180 FINE:
N190 RET
